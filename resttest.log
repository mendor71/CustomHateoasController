/*C21*/SET SCHEMA PUBLIC
drop table attractions if exists
drop table cats if exists
drop table city if exists
drop table coffee_bar if exists
drop table hotel if exists
drop table role if exists
drop table user if exists
drop table user_role if exists
create table attractions (id bigint not null, description varchar(255) not null, name varchar(255) not null, primary key (id))
create table cats (id bigint generated by default as identity (start with 1), breed varchar(255) not null, name varchar(255) not null, primary key (id))
create table city (id bigint not null, country varchar(255) not null, map varchar(255) not null, name varchar(255) not null, state varchar(255) not null, primary key (id))
create table coffee_bar (id bigint generated by default as identity (start with 1), address varchar(255) not null, description varchar(255), name varchar(255) not null, primary key (id))
create table hotel (id bigint not null, address varchar(255) not null, name varchar(255) not null, zip varchar(255), city bigint not null, primary key (id))
create table role (id integer generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
create table user (id integer generated by default as identity (start with 1), login varchar(255) not null, name varchar(255) not null, password varchar(255) not null, primary key (id))
create table user_role (user_id integer not null, role_id integer not null, primary key (user_id, role_id))
alter table hotel add constraint UK_i80qjsl99gene06k3t31y3sv5 unique (name)
alter table user add constraint UK_ew1hvam8uwaknuaellwhqchhb unique (login)
alter table hotel add constraint FK_q7pk9j3k5maru0t2blycjbris foreign key (city) references city
alter table user_role add constraint FK_it77eq964jhfqtu54081ebtio foreign key (role_id) references role
alter table user_role add constraint FK_apcc8lxk2xnug8377fatvbn04 foreign key (user_id) references user
INSERT INTO USER VALUES(1,'roy','Roy','spring')
COMMIT
INSERT INTO USER VALUES(2,'craig','Craig','spring')
COMMIT
INSERT INTO USER VALUES(3,'gregoy','Gregoy','spring')
COMMIT
INSERT INTO ROLE VALUES(1,'ROLE_USER')
COMMIT
INSERT INTO ROLE VALUES(2,'ROLE_ADMIN')
COMMIT
INSERT INTO ROLE VALUES(3,'ROLE_GUEST')
COMMIT
INSERT INTO USER_ROLE VALUES(1,1)
COMMIT
INSERT INTO USER_ROLE VALUES(1,2)
COMMIT
INSERT INTO USER_ROLE VALUES(2,1)
COMMIT
INSERT INTO USER_ROLE VALUES(3,1)
COMMIT
INSERT INTO ATTRACTIONS VALUES(1,'AustralianTheatreDesc','AustralianTheatre')
COMMIT
INSERT INTO ATTRACTIONS VALUES(4,'BridgeDesc','Bridge')
COMMIT
INSERT INTO ATTRACTIONS VALUES(10,'BigClock','BigBen')
COMMIT
INSERT INTO COFFEE_BAR VALUES(1,'testStreet','the best bar','bar1')
COMMIT
INSERT INTO CITY VALUES(1,'country1','map1','city1','state1')
COMMIT
INSERT INTO CITY VALUES(2,'country1','map1','city2','state2')
COMMIT
INSERT INTO CITY VALUES(3,'country2','map3','city3','state1')
COMMIT
INSERT INTO CITY VALUES(4,'country3','map4','city4','state1')
COMMIT
INSERT INTO HOTEL VALUES(1,'addr1','hotel1',NULL,1)
COMMIT
INSERT INTO HOTEL VALUES(2,'addr2','hotel2',NULL,1)
COMMIT
INSERT INTO HOTEL VALUES(3,'addr3','hotel3',NULL,2)
COMMIT
INSERT INTO HOTEL VALUES(4,'addr4','hotel4',NULL,3)
COMMIT
alter table hotel drop constraint FK_q7pk9j3k5maru0t2blycjbris
alter table user_role drop constraint FK_it77eq964jhfqtu54081ebtio
alter table user_role drop constraint FK_apcc8lxk2xnug8377fatvbn04
drop table attractions if exists
drop table cats if exists
drop table city if exists
drop table coffee_bar if exists
drop table hotel if exists
drop table role if exists
drop table user if exists
drop table user_role if exists
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
